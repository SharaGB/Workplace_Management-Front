{"ast":null,"code":"var _jsxFileName = \"/home/shara/Workplace_Management-Front/Frontend/src/components/pages/MyBookings/MyBookings.jsx\",\n    _s = $RefreshSig$();\n\nimport { ListGroup, Card } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\nimport axios from 'axios';\nimport styles from \"../../../css/my-reservation.module.css\";\nimport ModalCustom from \"../../../services/ModalCustom\";\nimport { FormButton } from \"../../../services/Buttons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst baseURL = `http://localhost:8000/api/reservation/${localStorage.getItem('user_id')}`;\nexport const getStation = async name => {\n  return await axios.get(baseURL).then(response => {\n    console.log(response);\n  });\n};\nexport const deleteBooking = async id => {\n  return await axios.delete(baseURL);\n};\nexport const MyReservationList = _ref => {\n  _s();\n\n  let {\n    bookings\n  } = _ref;\n  const [showList, setShowList] = useState(true);\n  const [stationSelected, setStationSelected] = useState();\n  const [showModal, setShowModal] = useState(false);\n  const date = new Date(bookings.start_date).toLocaleDateString();\n  const hour = new Date(bookings.start_date.split('T')[1]).getHours().toString().padStart(2, \"0\");\n  const minutes = new Date(bookings.startDate).getMinutes().toString().padStart(2, \"0\");\n  const hourFinal = new Date(bookings.finalDate).getHours().toString().padStart(2, \"0\");\n  const minutesFinal = new Date(bookings.finalDate).getMinutes().toString().padStart(2, \"0\");\n\n  const handleClick = async (e, stationName) => {\n    e.preventDefault();\n\n    try {\n      const station = await getStation(stationName);\n      setStationSelected(station.data[0]);\n      setShowList(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleConfirmClick = async bookings => {\n    try {\n      await deleteBooking(bookings._id);\n      console.log(\"reserva deletado com sucesso\");\n      document.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n\n    setShowModal(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showList ? /*#__PURE__*/_jsxDEV(ListGroup, {\n      className: styles.area_booking,\n      children: /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [bookings.stationName, \": \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), date, \" from \", hour, \":\", minutes, \" to \", hourFinal, \":\", minutesFinal]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormButton, {\n          text: \"delete\",\n          handleClick: () => setShowModal(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormButton, {\n          text: \"see desktop\",\n          handleClick: e => handleClick(e, bookings.stationName)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: \"18rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n        variant: \"top\",\n        src: stationSelected.image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          children: stationSelected.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.button,\n          children: /*#__PURE__*/_jsxDEV(FormButton, {\n            text: \"fechar\",\n            handleClick: () => setShowList(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ModalCustom, {\n      showModal: showModal,\n      setShowModal: setShowModal,\n      title: \"Are you sure you want to delete the reservation?\",\n      handleConfirmClick: () => handleConfirmClick(bookings)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MyReservationList, \"sLfJ0PBS42ZXnqma+SbONb2Enuk=\");\n\n_c = MyReservationList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyReservationList\");","map":{"version":3,"names":["ListGroup","Card","React","useState","axios","styles","ModalCustom","FormButton","baseURL","localStorage","getItem","getStation","name","get","then","response","console","log","deleteBooking","id","delete","MyReservationList","bookings","showList","setShowList","stationSelected","setStationSelected","showModal","setShowModal","date","Date","start_date","toLocaleDateString","hour","split","getHours","toString","padStart","minutes","startDate","getMinutes","hourFinal","finalDate","minutesFinal","handleClick","e","stationName","preventDefault","station","data","error","handleConfirmClick","_id","document","location","reload","area_booking","width","image","button"],"sources":["/home/shara/Workplace_Management-Front/Frontend/src/components/pages/MyBookings/MyBookings.jsx"],"sourcesContent":["import { ListGroup, Card } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\nimport axios from 'axios';\n\nimport styles from \"../../../css/my-reservation.module.css\";\nimport ModalCustom from \"../../../services/ModalCustom\";\nimport { FormButton } from \"../../../services/Buttons\";\n\n\nconst baseURL = `http://localhost:8000/api/reservation/${localStorage.getItem('user_id')}`\n\n\nexport const getStation = async (name) => {\n  return await axios.get(baseURL).then((response) => {\n    console.log(response)\n  })\n}\n\nexport const deleteBooking = async (id) => {\n  return await axios.delete(baseURL)\n}\n\nexport const MyReservationList = ({ bookings }) => {\n  const [showList, setShowList] = useState(true);\n  const [stationSelected, setStationSelected] = useState();\n  const [showModal, setShowModal] = useState(false);\n\n  const date = new Date(bookings.start_date).toLocaleDateString();\n  const hour = new Date(bookings.start_date.split('T')[1])\n    .getHours()\n    .toString()\n    .padStart(2, \"0\");\n  const minutes = new Date(bookings.startDate)\n    .getMinutes()\n    .toString()\n    .padStart(2, \"0\");\n\n  const hourFinal = new Date(bookings.finalDate)\n    .getHours()\n    .toString()\n    .padStart(2, \"0\");\n  const minutesFinal = new Date(bookings.finalDate)\n    .getMinutes()\n    .toString()\n    .padStart(2, \"0\");\n\n  const handleClick = async (e, stationName) => {\n    e.preventDefault();\n    try {\n      const station = await getStation(stationName);\n      setStationSelected(station.data[0]);\n      setShowList(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleConfirmClick = async bookings => {\n    try {\n      await deleteBooking(bookings._id);\n      console.log(\"reserva deletado com sucesso\");\n      document.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n    setShowModal(false);\n  };\n\n  return (\n    <>\n      {showList ? (\n        <ListGroup className={styles.area_booking}>\n          <ListGroup.Item>\n            <span>\n              <strong>{bookings.stationName}: </strong>\n              {date} from {hour}:{minutes} to {hourFinal}:{minutesFinal}\n            </span>\n            <FormButton text=\"delete\" handleClick={() => setShowModal(true)} />\n            <FormButton text=\"see desktop\" handleClick={e => handleClick(e, bookings.stationName)} />\n          </ListGroup.Item>\n        </ListGroup>\n      ) : (\n        <Card style={{ width: \"18rem\" }}>\n          <Card.Img variant=\"top\" src={stationSelected.image} />\n          <Card.Body>\n            <Card.Title>{stationSelected.name}</Card.Title>\n            <div className={styles.button}>\n              <FormButton text=\"fechar\" handleClick={() => setShowList(true)} />\n            </div>\n          </Card.Body>\n        </Card>\n      )}\n      <ModalCustom\n        showModal={showModal}\n        setShowModal={setShowModal}\n        title=\"Are you sure you want to delete the reservation?\"\n        handleConfirmClick={() => handleConfirmClick(bookings)}\n      />\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}